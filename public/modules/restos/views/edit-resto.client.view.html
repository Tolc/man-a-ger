<section data-ng-controller="RestosController" data-ng-init="findOne()">
    <div class="page-header">
        <h1>Edit Resto</h1>
    </div>
    <div class="col-md-12">
        <img style="float: right; width: 300px;" data-ng-src="{{resto.image}}">
        <form name="restoForm" class="form-horizontal" data-ng-submit="update()" novalidate>
            <fieldset>
                <div class="form-group" ng-class="{ 'has-error': restoForm.name.$dirty && restoForm.name.$invalid }">
                    <label class="control-label" for="name">Name</label>
                    <div class="controls">
                        <input type="text" data-ng-model="resto.name" id="name" class="form-control" placeholder="Name" required>
                    </div>
                </div>
                <div class="form-group" ng-class="{ 'has-error': restoForm.proximity.$dirty && restoForm.proximity.$invalid }">
                    <label class="control-label" for="proximity">Proximity</label>
                    <div class="controls">
                        <input name="proximity" type="number" min="0" max="10" data-ng-model="resto.proximity" id="proximity" class="form-control" placeholder="Proximity" required>
                    </div>
                </div>
                <div class="form-group" ng-class="{ 'has-error': restoForm.healthiness.$dirty && restoForm.healthiness.$invalid }">
                    <label class="control-label" for="healthiness">Healthiness</label>
                    <div class="controls">
                        <input name="healthiness" type="number" min="0" max="10" data-ng-model="resto.healthiness" id="healthiness" class="form-control" placeholder="Healthiness" required>
                    </div>
                </div>
                <div class="form-group" ng-class="{ 'has-error': restoForm.price.$dirty && restoForm.price.$invalid }">
                    <label class="control-label" for="price">Price</label>
                    <div class="controls">
                        <input name="price" type="number" step="0.5" size="3" min="0" data-ng-model="resto.price" id="price" class="form-control" placeholder="Price" required>
                    </div>
                </div>
                <!--<div class="form-group">-->
                    <!--<label class="control-label" for="image">Image</label>-->
                    <!--<div class="controls">-->
                        <!--<input name="image" type="file" data-ng-model="resto.image" id="image" class="form-control" placeholder="Image">-->
                    <!--</div>-->
                <!--</div>-->
                <div class="form-group">
                    <label class="control-label" for="description">Description</label>
                    <div class="controls">
                        <textarea name="description" data-ng-model="resto.description" id="description" class="form-control" cols="30" rows="10" placeholder="Description"></textarea>
                    </div>
                </div>
                <div class="form-group" ng-class="{ 'has-error': restoForm.address.$dirty && restoForm.address.$invalid }">
                    <label class="control-label" for="address">Address</label>
                    <div class="controls">
                        <input type="text" data-ng-model="resto.address" id="address" class="form-control" placeholder="Address" required>
                    </div>
                </div>
                <div class="form-group" ng-class="{ 'has-error': restoForm.lat.$dirty && restoForm.lat.$invalid }">
                    <label class="control-label" for="lat">Latitude</label>
                    <div class="controls">
                        <input name="lat" type="number" step="0.001" size="3" min="-85" max="85" data-ng-model="resto.lat" id="lat" class="form-control" placeholder="lat" required>
                    </div>
                </div>
                <div class="form-group" ng-class="{ 'has-error': restoForm.lng.$dirty && restoForm.lng.$invalid }">
                    <label class="control-label" for="lng">Longitude</label>
                    <div class="controls">
                        <input name="lng" type="number" step="0.001" size="3" min="-180" max="180" data-ng-model="resto.lng" id="lng" class="form-control" placeholder="lng" required>
                    </div>
                </div>
                <div class="form-group">
                    <input type="submit" value="Update" class="btn btn-default">
                </div>
				<div data-ng-show="error" class="text-danger">
					<strong data-ng-bind="error"></strong>
				</div>
            </fieldset>
        </form>
        <br/>
        <form name="myForm" style="float: right;">
            <br/>
            Image: <input type="file" data-ng-file-select="" data-ng-model="picFile" name="file" accept="image/*"
                                    data-ng-file-change="generateThumb(picFile[0])" required>
            <i data-ng-show="myForm.file.$error.required">*required</i>
            <br/>
            <img style="width: 50px;" data-ng-show="picFile[0].dataUrl != null" data-ng-src="{{picFile[0].dataUrl}}" class="thumb">
            <button data-ng-disabled="!myForm.$valid" data-ng-click="upload(picFile)">Submit</button>
        </form>
    </div>
</section>
